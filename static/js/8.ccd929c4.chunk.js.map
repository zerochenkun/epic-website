{"version":3,"sources":["components/ListOfHistory.js","pages/History.js"],"names":["HistoryList","observer","HistoryStore","useStores","console","log","list","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","renderItem","item","Item","key","id","style","height","src","attributes","url","filename","target","href","tip","History","ListOfHistory"],"mappings":"mMAwDeA,EAjDKC,aAAS,WAAO,IACxBC,EAAiBC,cAAjBD,aACRE,QAAQC,IAAI,sBAAuBH,EAAaI,MAahD,OAPAC,qBAAU,WAEN,OADAH,QAAQC,IAAI,gBACL,WACHD,QAAQC,IAAI,4BACZH,EAAaM,WAEnB,IAEE,oCACI,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAhBK,WACbT,EAAaU,QAgBLC,SAAUX,EAAaY,WAAaZ,EAAaW,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACIC,WAAad,EAAaI,KAC1BW,WAAY,SAAAC,GAAI,OACZ,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACjB,6BAAM,yBAAKC,MAAO,CAACC,OAAO,SAAUC,IAAKN,EAAKO,WAAWC,IAAID,WAAWC,OACxE,6BACI,4BAAKR,EAAKO,WAAWE,WAEzB,6BACI,uBAAGC,OAAO,SAASC,KAAMX,EAAKO,WAAWC,IAAID,WAAWC,KAAMR,EAAKO,WAAWC,IAAID,WAAWC,SAKxGxB,EAAaY,WAAaZ,EAAaW,SACpC,6BACI,kBAAC,IAAD,CAAMiB,IAAI,8BCnCvBC,UATf,WACI,OACI,oCACI,uCACA,kBAACC,EAAD","file":"static/js/8.ccd929c4.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { useStores } from '../stores'\r\nimport { List, message, Spin } from 'antd';\r\n\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\n\r\nconst HistoryList = observer(() => {\r\n    const { HistoryStore } = useStores()\r\n    console.log('HistoryStore.list: ', HistoryStore.list);\r\n\r\n    const loadMore = () => {\r\n        HistoryStore.find()\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('加载');\r\n        return () => {\r\n            console.log('卸载组件');\r\n            HistoryStore.reset()\r\n        }\r\n    },[])\r\n    return (\r\n        <>\r\n            <InfiniteScroll\r\n                initialLoad={true}\r\n                pageStart={0}\r\n                loadMore={loadMore}\r\n                hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n                useWindow={true}\r\n            >\r\n                <List\r\n                    dataSource={ HistoryStore.list}\r\n                    renderItem={item => (\r\n                        <List.Item key={item.id}>\r\n                            <div ><img style={{height:'100px'}} src={item.attributes.url.attributes.url}></img></div>\r\n                            <div>\r\n                                <h5>{item.attributes.filename}</h5>\r\n                            </div>\r\n                            <div>\r\n                                <a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\r\n                            </div>\r\n                        </List.Item>\r\n                    )}\r\n                >\r\n                    {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n                        <div>\r\n                            <Spin tip=\"加载中\" />\r\n                        </div>\r\n                    )}\r\n                </List>\r\n            </InfiniteScroll>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default HistoryList;","import React from 'react'\r\nimport ListOfHistory from '../components/ListOfHistory'\r\n\r\nfunction History() {\r\n    return (\r\n        <>\r\n            <h2>History</h2>\r\n            <ListOfHistory></ListOfHistory>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}